var P=Object.defineProperty;var w=(t,e,r)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var D=(t,e,r)=>(w(t,typeof e!="symbol"?e+"":e,r),r);import{d as T,c as S}from"./pinia.da056445.js";import{c as N,a as M}from"./vue-router.fa6ba3ae.js";import{c as F}from"./lodash.535c3030.js";import{E as v,a as V}from"./element-plus.0e8a0458.js";import{a as k}from"./axios.7aed06b8.js";import{d as j,a1 as C,y as h,K as g,D as A,a9 as U,L as x,$ as q}from"./@vue.d0b34203.js";import{i as $}from"./@icon-park.5afac6d7.js";import{d as B}from"./dayjs.c7ebfd78.js";/* empty css                    */import"./vue-demi.b3a9cad9.js";import"./@element-plus.1c6bf0a0.js";import"./@ctrl.82a509e0.js";import"./@vueuse.12804d20.js";import"./lodash-es.f5e4b9c2.js";const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}};K();var u=(t=>(t.TOKEN_NAME="login_token",t.REDIRECT_ROUTE_NAME="redirect_router_name",t.HISTORY_MENU="history_menu",t))(u||{}),c={set(t,e,r){let n={data:e};r&&(n.expire=new Date().getTime()+e.expire*1e3),localStorage.setItem(t,JSON.stringify(n))},get(t,e=null){const r=localStorage.getItem(t);if(r){const n=JSON.parse(r),o=n==null?void 0:n.expire;return o&&o<new Date().getTime()?(localStorage.removeItem(t),e):n.data}return e},remove(t){localStorage.removeItem(t)}},b=(t=>(t.HOME="home",t.LOGIN="login",t.ADMIN="admin",t))(b||{});const z="modulepreload",y={},G="/",s=function(e,r){return!r||r.length===0?e():Promise.all(r.map(n=>{if(n=`${G}${n}`,n in y)return;y[n]=!0;const o=n.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":z,o||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),o)return new Promise((_,p)=>{a.addEventListener("load",_),a.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())},H=[{path:"/",name:"home",component:()=>s(()=>import("./home.d80a4cdf.js"),["assets/home.d80a4cdf.js","assets/animate.css.ee1c1666.css","assets/button.a9a2240b.js","assets/button.013e5224.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"])},{path:"/login",name:"login",component:()=>s(()=>import("./login.fc05aa09.js"),["assets/login.fc05aa09.js","assets/forgetPassword.36dde8de.css","assets/animate.css.ee1c1666.css","assets/button.a9a2240b.js","assets/button.013e5224.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/footer.0fb8cb38.js","assets/footer.e503316e.css","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{guest:!0}},{path:"/register",name:"register",component:()=>s(()=>import("./register.2a4cecc0.js"),["assets/register.2a4cecc0.js","assets/forgetPassword.36dde8de.css","assets/animate.css.ee1c1666.css","assets/button.a9a2240b.js","assets/button.013e5224.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/footer.0fb8cb38.js","assets/footer.e503316e.css","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{guest:!0}},{path:"/forget-password",name:"forgetPassword",component:()=>s(()=>import("./forgetPassword.e2fd01d5.js"),["assets/forgetPassword.e2fd01d5.js","assets/forgetPassword.36dde8de.css","assets/animate.css.ee1c1666.css","assets/button.a9a2240b.js","assets/button.013e5224.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/footer.0fb8cb38.js","assets/footer.e503316e.css","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{guest:!0}},{path:"/article",name:"article",component:()=>s(()=>import("./article.3f233521.js"),["assets/article.3f233521.js","assets/article.dbd97e75.css","assets/animate.css.ee1c1666.css","assets/@vue.d0b34203.js","assets/gsap.86166f74.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"])},{path:"/:any(.*)",name:"notFound",component:()=>s(()=>import("./404.76780956.js"),["assets/404.76780956.js","assets/403.5048f9fa.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js"])}],l=F({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0});Object.entries({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}).forEach(([t,e])=>{e=="true"||e=="false"?l[t]=e=="true":/^\d+$/.test(e)?l[t]=Number(e):e=="null"?l[t]=null:e=="undefined"&&(l[t]=void 0)});function J(){return!!c.get(u.TOKEN_NAME)}async function W(t){const{data:e}=await Oe(t);R(e)}async function Y(t){const{data:e}=await ve(t);R(e)}async function Q(t){const{data:e}=await Re(t);R(e)}function R(t){var r;c.set(u.TOKEN_NAME,t.token),E().getUserInfo();const e=(r=c.get(u.REDIRECT_ROUTE_NAME))!=null?r:"home";m.push({name:e}),v({type:"success",message:"\u767B\u5F55\u6210\u529F"})}async function X(){E().resetInfo(),c.remove(u.TOKEN_NAME),m.push({name:"home"})}var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isLogin:J,login:W,register:Y,forgetPassword:Q,logout:X}),I={env:l,store:c,user:Z};const ee={},te={};function re(){const t=[];return Object.entries(ee).forEach(([e,r])=>{const n=L(e,r);n.children=oe(n),t.push(n)}),t}function oe(t){const e=[];return Object.entries(te).forEach(([r,n])=>{if(r.includes(`../views/${t.name}`)){const o=L(r,n);e.push(o)}}),e}function L(t,e){var o;const r=t.replace(/.+layouts\/|.+views\/|\.vue/gi,""),n={name:r.replace("/","."),path:`/${r}`,component:e.default};return Object.assign(n,(o=e.default)==null?void 0:o.route)}var ne={name:"admin",path:"/admin",redirect:"/admin/home",component:()=>s(()=>import("./admin.3ff80446.js"),["assets/admin.3ff80446.js","assets/admin.9d63979f.css","assets/animate.css.ee1c1666.css","assets/@vue.d0b34203.js","assets/notification.d0db3f3d.js","assets/notification.027e1e06.css","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/vue-router.fa6ba3ae.js","assets/@icon-park.5afac6d7.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/axios.7aed06b8.js"]),meta:{auth:!0,menu:{title:"Dashboard",icon:"DashboardOne"}},children:[{name:"admin.home",path:"home",component:()=>s(()=>import("./home.c3ae3695.js"),["assets/home.c3ae3695.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@vue.d0b34203.js","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js"]),meta:{menu:{title:"\u5DE5\u4F5C\u53F0"}}}]},se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ne}),ie={name:"editor",path:"/editor",component:()=>s(()=>import("./admin.3ff80446.js"),["assets/admin.3ff80446.js","assets/admin.9d63979f.css","assets/animate.css.ee1c1666.css","assets/@vue.d0b34203.js","assets/notification.d0db3f3d.js","assets/notification.027e1e06.css","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/vue-router.fa6ba3ae.js","assets/@icon-park.5afac6d7.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/axios.7aed06b8.js"]),meta:{auth:!0,menu:{title:"\u7F16\u8F91\u5668",icon:"EditOne"}},children:[{name:"wangEditor",path:"wangEditor",component:()=>s(()=>import("./wangeditor.59ee3b1f.js"),["assets/wangeditor.59ee3b1f.js","assets/wangeditor.999c3c65.css","assets/@wangeditor.cd71b967.js","assets/@wangeditor.3eea1db9.css","assets/@vue.d0b34203.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{menu:{title:"\u5BCC\u6587\u672C\u7F16\u8F91\u5668"}}},{name:"markdown",path:"markdown",component:()=>s(()=>import("./markdown.a8986639.js"),["assets/markdown.a8986639.js","assets/markdown.dcbf99e4.css","assets/animate.css.ee1c1666.css","assets/@toast-ui.1848f074.js","assets/@toast-ui.b059c3bf.css","assets/prosemirror-model.b56130c8.js","assets/orderedmap.3aa63af1.js","assets/prosemirror-view.005f3219.js","assets/prosemirror-state.334938da.js","assets/prosemirror-transform.ac9e639a.js","assets/prosemirror-keymap.d708e6c5.js","assets/w3c-keyname.74927781.js","assets/prosemirror-commands.85ed81c5.js","assets/prosemirror-inputrules.0752c43a.js","assets/prosemirror-history.a8db0b3f.js","assets/rope-sequence.7d68748c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"Markdown"}}}]},ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ie}),ue={name:"error",path:"/error",component:()=>s(()=>import("./admin.3ff80446.js"),["assets/admin.3ff80446.js","assets/admin.9d63979f.css","assets/animate.css.ee1c1666.css","assets/@vue.d0b34203.js","assets/notification.d0db3f3d.js","assets/notification.027e1e06.css","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/vue-router.fa6ba3ae.js","assets/@icon-park.5afac6d7.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/axios.7aed06b8.js"]),meta:{auth:!0,menu:{title:"\u9519\u8BEF\u9875\u9762",icon:"Caution"}},children:[{name:"error.404",path:"404",component:()=>s(()=>import("./404.76780956.js"),["assets/404.76780956.js","assets/403.5048f9fa.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js"]),meta:{menu:{title:"404\u9875\u9762"}}},{name:"error.403",path:"403",component:()=>s(()=>import("./403.ae5291fc.js"),["assets/403.ae5291fc.js","assets/403.5048f9fa.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js"]),meta:{menu:{title:"403\u9875\u9762"}}},{name:"error.500",path:"500",component:()=>s(()=>import("./500.69010306.js"),["assets/500.69010306.js","assets/403.5048f9fa.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js"]),meta:{menu:{title:"500\u9875\u9762"}}}]},ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ue}),me={name:"front",path:"/front",component:()=>s(()=>import("./front.46f34780.js"),["assets/front.46f34780.js","assets/front.58a0fc9c.css","assets/animate.css.ee1c1666.css","assets/@vue.d0b34203.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/notification.d0db3f3d.js","assets/notification.027e1e06.css","assets/vue-router.fa6ba3ae.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{auth:!0,menu:{title:"\u524D\u7AEF",icon:"Deeplink"}},children:[{name:"front.docs",path:"docs",component:()=>s(()=>import("./docs.5a0be65d.js"),["assets/docs.5a0be65d.js","assets/animate.css.ee1c1666.css","assets/colorApi.2c9b4329.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"\u6587\u6863\u8BF4\u660E"}}},{name:"front.documents",path:"documents",component:()=>s(()=>import("./documents.61b05fb9.js"),["assets/documents.61b05fb9.js","assets/animate.css.ee1c1666.css","assets/colorApi.2c9b4329.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"\u53C2\u8003\u6587\u6863"}}},{name:"front.exchange",path:"exchange",component:()=>s(()=>import("./exchange.9918bdd3.js"),["assets/exchange.9918bdd3.js","assets/animate.css.ee1c1666.css","assets/colorApi.2c9b4329.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"\u524D\u7AEF\u4EA4\u6D41"}}},{name:"front.styles",path:"styles",component:()=>s(()=>import("./styles.ccb6046a.js"),["assets/styles.ccb6046a.js","assets/animate.css.ee1c1666.css","assets/colorApi.2c9b4329.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"\u524D\u7AEF\u6837\u5F0F"}},children:[{name:"front.styles.colors",path:"colors",component:()=>s(()=>import("./colors.e93d3e87.js"),["assets/colors.e93d3e87.js","assets/animate.css.ee1c1666.css","assets/colorApi.2c9b4329.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/@vue.d0b34203.js","assets/pinia.da056445.js","assets/vue-demi.b3a9cad9.js","assets/vue-router.fa6ba3ae.js","assets/lodash.535c3030.js","assets/dayjs.c7ebfd78.js","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/axios.7aed06b8.js","assets/@icon-park.5afac6d7.js"]),meta:{menu:{title:"\u524D\u7AEFcommon\u6837\u5F0F"}}},{name:"front.styles.buttons",path:"buttons",component:()=>s(()=>import("./buttons.e2b2eaa5.js"),["assets/buttons.e2b2eaa5.js","assets/buttons.4787578f.css","assets/element-plus.0e8a0458.js","assets/element-plus.cf32d5e7.css","assets/@vue.d0b34203.js","assets/@element-plus.1c6bf0a0.js","assets/@ctrl.82a509e0.js","assets/@vueuse.12804d20.js","assets/lodash-es.f5e4b9c2.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{menu:{title:"\u524D\u7AEFcommon\u6837\u5F0F"}}}]}]},le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:me});function _e(){const t={"../module/admin.ts":se,"../module/editor.ts":ae,"../module/errors.ts":ce,"../module/front.ts":le},e=[];return Object.keys(t).forEach(r=>{e.push(t[r].default)}),e}let O=I.env.VITE_ROUTER_AUTOLOAD?re():_e();function pe(t){const e=E();O=O.map(r=>{var n;return r.children=(n=r.children)==null?void 0:n.filter(o=>{var a,_,p;const i=(a=o.meta)==null?void 0:a.permission;return i?(p=(_=e.info)==null?void 0:_.permissions)==null?void 0:p.includes(i):!0}),r}),O.forEach(r=>t.addRoute(r))}var d=T("errorStore",{state:()=>({errors:{}}),getters:{getError(t){return e=>t.errors[e]},hasError(t){return Object.keys(t.errors).length>0}},actions:{resetError(){this.errors={}},setErrors(t){Object.entries(t).forEach(([e,r])=>{this.errors[e]=r[0]})},clearError(t){this.errors[t]&&delete this.errors[t]}}});class de{constructor(e){this.router=e}run(){this.router.beforeEach(this.beforeEach.bind(this))}async beforeEach(e,r){if(d().resetError(),e.meta.auth&&!this.token())return c.set(u.REDIRECT_ROUTE_NAME,e.name),{name:"login"};if(e.meta.guest&&this.token())return r}token(){return I.store.get(u.TOKEN_NAME)}}var fe=t=>{new de(t).run()};const m=N({history:M(),routes:[...H]});async function Ee(t){pe(m),fe(m),t.use(m)}class he{constructor(e){D(this,"instance");this.instance=k.create(e),this.interceptors()}async request(e){return console.log("666666"),new Promise(async(r,n)=>{try{const o=await this.instance.request(e);r(o.data)}catch(o){n(o)}})}interceptors(){this.interceptorsRequest(),this.interceptorsResponse()}interceptorsRequest(){this.instance.interceptors.request.use(e=>(d().resetError(),e.headers={Accept:"application/json",Authorization:`Bearer ${c.get(u.TOKEN_NAME)}`},e),e=>Promise.reject(e))}interceptorsResponse(){console.log("-----7777777-----interceptorsResponse-----"),this.instance.interceptors.response.use(e=>e,e=>{const{response:{status:r,data:n,msg:o}}=e;switch(r){case 401:c.remove(u.TOKEN_NAME),m.push({name:b.LOGIN});break;case 500:console.log("55555555"),v.error(e.response.msg);break;case 422:d().setErrors(e.response.data.errors);break;default:const{message:i}=n;i&&v({type:"error",message:i})}return Promise.reject(e)})}}const f=new he({baseURL:"/api",timeout:1e4});function ge(){return f.request({url:"user/info"})}function Oe(t){return f.request({url:"user/login",method:"post",data:t})}function ve(t){return f.request({url:"register",method:"post",data:t})}function Re(t){return f.request({url:"account/forget-password",method:"post",data:t})}var E=T("userStore",{state:()=>({info:{}}),actions:{async getUserInfo(){c.get(u.TOKEN_NAME)&&(this.info=await ge().then(t=>t.data))},resetInfo(){this.info=null}}});const De=j({setup(t){const e=V.service({background:"rgba(0, 0, 0, 0.6)"}),r=()=>{e.close()};return(n,o)=>{const i=C("router-view");return h(),g(i,null,{default:A(({Component:a})=>[(h(),g(U,{onResolve:r},{default:A(()=>[(h(),g(x(a)))]),_:2},1024))]),_:1})}}});function Ae(t){t.use(S())}function ye(t){$(t)}function Te(){B.exports.locale("zh-cn")}function be(t){Ae(t),ye(t),Te()}function Ie(t){t.directive("clearError",{mounted(e,r){e.addEventListener("focus",()=>{d().clearError(r.value)})}})}class Le{async bootstrap(){const e=this.app();await this.initData(),await m.isReady(),e.mount("#app")}app(){const e=q(De);return be(e),Ee(e),Ie(e),e}async initData(){await E().getUserInfo()}}new Le().bootstrap();export{u as C,b as R,E as a,d as e,f as h,m as r,c as s,I as u};
