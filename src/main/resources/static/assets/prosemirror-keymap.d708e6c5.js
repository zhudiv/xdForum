import{k as c,b as h}from"./w3c-keyname.74927781.js";import{a as y}from"./prosemirror-state.334938da.js";var p=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function d(r){var e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");for(var a,i,l,s,u=0;u<e.length-1;u++){var f=e[u];if(/^(cmd|meta|m)$/i.test(f))s=!0;else if(/^a(lt)?$/i.test(f))a=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))p?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return a&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function K(r){var e=Object.create(null);for(var t in r)e[d(t)]=r[t];return e}function o(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}function $(r){return new y({props:{handleKeyDown:m(r)}})}function m(r){var e=K(r);return function(t,a){var i=c(a),l=i.length==1&&i!=" ",s,u=e[o(i,a,!l)];if(u&&u(t.state,t.dispatch,t))return!0;if(l&&(a.shiftKey||a.altKey||a.metaKey||i.charCodeAt(0)>127)&&(s=h[a.keyCode])&&s!=i){var f=e[o(s,a,!0)];if(f&&f(t.state,t.dispatch,t))return!0}else if(l&&a.shiftKey){var n=e[o(i,a,!0)];if(n&&n(t.state,t.dispatch,t))return!0}return!1}}export{$ as k};
